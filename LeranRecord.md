# 学习 Shell #

9/16/2016 9:48:39 PM 
### Shell 变量 ###
<http://c.biancheng.net/cpp/view/6999.html>
##### 定义变量 #####
**注意，变量名和等号之间不能有空格，这可能和你熟悉的所有编程语言都不一样。**
同时，变量名的命名须遵循如下规则： 
- 首个字符必须为字母（a-z，A-Z）。
- 中间不能有空格，可以使用下划线（_）。
- 不能使用标点符号。
- 不能使用bash里的关键字（可用help命令查看保留关键字）。

##### 使用变量 #####
变量名外面的花括号是可选的，加不加都行，加花括号是为了帮助解释器识别变量的边界

##### 变量类型 #####
1.  局部变量
局部变量在脚本或命令中定义，仅在当前shell实例中有效，其他shell启动的程序不能访问局部变量。
2. 环境变量
所有的程序，包括shell启动的程序，都能访问环境变量，有些程序需要环境变量来保证其正常运行。必要的时候shell脚本也可以定义环境变量。
3. shell变量
shell变量是由shell程序设置的特殊变量。shell变量中有一部分是环境变量，有一部分是局部变量，这些变量保证了shell的正常运行

### 特殊变量 ###
<http://c.biancheng.net/cpp/view/2739.html>
	#$
	#0
	#n
	##
	#* {带双引号 循环打印时 以横行 打印}
	#@ {带双引号 循环打印时 依然以 竖行 打印}
	#?

### Shell 替换 ###
<http://c.biancheng.net/cpp/view/2737.html>
##### 转义处理 #####
这里 -e 表示对转义字符进行替换。如果不使用 -e 选项，将会原样输出
可以使用 echo 命令的 -E 选项禁止转义，默认也是不转义的；使用 -n 选项可以禁止插入换行符
##### 命令替换 #####
命令替换是指Shell可以先执行命令，将输出结果暂时保存，在适当的地方输出
\`command\`
注意是反引号，不是单引号，这个键位于 Esc 键下方
##### 变量替换 #####
变量替换可以根据变量的状态（是否为空、是否定义等）来改变它的值
word 支持 初始化定义 $..
- ${var} 	变量本来的值
- ${var:-word} 	如果变量 var 为空或已被删除(unset)，那么返回 word，但不改变 var 的值。
- ${var:=word} 	如果变量 var 为空或已被删除(unset)，那么返回 word，并将 var 的值设置为 word。
- ${var:?message} 	如果变量 var 为空或已被删除(unset)，那么将消息 message 送到标准错误输出，可以用来检测变量 var 是否可以被正常赋值。
若此替换出现在Shell脚本中，那么脚本将停止运行。
- ${var:+word} 	如果变量 var 被定义，那么返回 word，但不改变 var 的值。

### Shell 运算符 ###
<http://c.biancheng.net/cpp/view/2736.html>
##### 算术运算符 #####
	Bash 支持很多运算符，包括算数运算符、关系运算符、布尔运算符、字符串运算符和文件测试运算符。
	原生bash不支持简单的数学运算，但是可以通过其他命令来实现，例如 awk 和 expr，expr 最常用
**注意**
-  表达式和运算符之间要有空格，例如 2+2 是不对的，必须写成 2 + 2，这与我们熟悉的大多数编程语言不一样。
- 完整的表达式要被 ` ` 包含，注意这个字符不是常用的单引号，在 Esc 键下边
- ------
- 乘号(*)前边必须加反斜杠(\)才能实现乘法运算；
- if...then...fi 是条件语句，后续将会讲解。
- 条件表达式要放在方括号之间，并且要有空格，例如 [$a==$b] 是错误的，必须写成 [ $a == $b ]

###### 算术运算符列表 ######
	+ 	加法 	`expr $a + $b` 结果为 30。
	- 	减法 	`expr $a - $b` 结果为 10。
	* 	乘法 	`expr $a \* $b` 结果为  200。
	/ 	除法 	`expr $b / $a` 结果为 2。
	% 	取余 	`expr $b % $a` 结果为 0。
	= 	赋值 	a=$b 将把变量 b 的值赋给 a。
	== 	相等。用于比较两个数字，相同则返回 true。 	[ $a == $b ] 返回 false。
	!= 	不相等。用于比较两个数字，不相同则返回 true。 	[ $a != $b ] 返回 true。

##### 关系运算符 #####
关系运算符只支持数字，不支持字符串，除非字符串的值是数字
###### 算术运算符列表 ######
	 eq 	检测两个数是否相等，相等返回 true。 	[ $a -eq $b ] 返回 true。
	-ne 	检测两个数是否相等，不相等返回 true。 	[ $a -ne $b ] 返回 true。
	-gt 	检测左边的数是否大于右边的，如果是，则返回 true。 	[ $a -gt $b ] 返回 false。
	-lt 	检测左边的数是否小于右边的，如果是，则返回 true。 	[ $a -lt $b ] 返回 true。
	-ge 	检测左边的数是否大等于右边的，如果是，则返回 true。 	[ $a -ge $b ] 返回 false。
	-le 	检测左边的数是否小于等于右边的，如果是，则返回 true。 	[ $a -le $b ] 返回 true。

##### 布尔运算符 #####
###### 布尔运算符列表 ######
	 ! 	非运算，表达式为 true 则返回 false，否则返回 true。 	[ ! false ] 返回 true。
	-o 	或运算，有一个表达式为 true 则返回 true。 	[ $a -lt 20 -o $b -gt 100 ] 返回 true。
	-a 	与运算，两个表达式都为 true 才返回 true。 	[ $a -lt 20 -a $b -gt 100 ] 返回 false。
*这里出现了 BUG*
	-a | -o 不反应